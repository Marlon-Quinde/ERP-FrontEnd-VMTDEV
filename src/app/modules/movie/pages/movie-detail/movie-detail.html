<!-- Hero Section con imagen de fondo -->
<div
  class="tw:relative tw:min-h-screen tw:bg-gradient-to-br tw:from-gray-900 tw:via-gray-800 tw:to-black"
>
  <!-- Imagen de fondo con overlay -->
  <div class="tw:absolute tw:inset-0 tw:bg-black/60"></div>
  <div
    class="tw:absolute tw:inset-0 tw:bg-gradient-to-t tw:from-black/80 tw:via-transparent tw:to-transparent"
  ></div>

  <!-- Breadcrumb flotante -->
  <nav class="tw:relative tw:z-10 tw:pt-6 tw:px-6" aria-label="breadcrumb">
    <a
      href="#"
      class="tw:inline-flex tw:items-center tw:gap-2 tw:text-white/80 hover:tw:text-white tw:transition-colors tw:duration-200 tw:bg-black/20 tw:backdrop-blur-sm tw:px-4 tw:py-2 tw:rounded-full"
    >
      <svg
        class="tw:w-5 tw:h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 19l-7-7 7-7"
        ></path>
      </svg>
      Volver al listado
    </a>
  </nav>

  <!-- Contenido principal -->
  <div class="tw:relative tw:z-10 tw:container tw:mx-auto tw:px-6 tw:pt-12 tw:pb-20">
    <div class="tw:grid tw:grid-cols-1 xl:tw:grid-cols-12 tw:gap-12 tw:items-start">
      <!-- Poster - Columna izquierda -->
      <div class="xl:tw:col-span-4 tw:mb-8 xl:tw:mb-0">
        <div class="tw:relative tw:group">
          <div
            class="tw:relative tw:rounded-3xl tw:overflow-hidden tw:shadow-2xl tw:transform tw:group-hover:tw:scale-105 tw:transition-transform tw:duration-300"
          >
            <img
              [src]="baseUrlImage + movie().backdrop_path"
              alt="Poster de {{ movie().title }}"
              class="tw:w-full tw:h-[500px] tw:object-cover"
            />
            <div
              class="tw:absolute tw:inset-0 tw:bg-gradient-to-t tw:from-black/50 tw:to-transparent"
            ></div>
          </div>

          <!-- Badges flotantes -->
          <div class="tw:absolute tw:top-6 tw:left-6 tw:flex tw:flex-col tw:gap-3">
            <span
              class="tw:bg-gradient-to-r tw:from-emerald-400 tw:to-emerald-600 tw:text-black tw:font-bold tw:text-sm tw:py-2 tw:px-4 tw:rounded-full tw:shadow-lg"
              >HD · Nuevo</span
            >
            <span
              class="tw:bg-gradient-to-r tw:from-red-500 tw:to-red-600 tw:text-white tw:font-semibold tw:text-xs tw:py-1 tw:px-3 tw:rounded-full tw:shadow-lg"
              >+13</span
            >
          </div>

          <!-- Botón de play flotante -->
          <div class="tw:absolute tw:bottom-6 tw:right-6">
            <button
              class="tw:bg-white/20 tw:backdrop-blur-sm tw:text-white tw:p-4 tw:rounded-full tw:hover:tw:bg-white/30 tw:transition-all tw:duration-200 tw:shadow-xl"
            >
              <svg class="tw:w-8 tw:h-8" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Información principal - Columna derecha -->
      <div class="xl:tw:col-span-8 tw:space-y-8">
        <!-- Header con título y rating -->
        <header class="tw:space-y-6">
          <div>
            <h1
              class="tw:text-4xl md:tw:text-6xl tw:font-black tw:tracking-tight tw:bg-gradient-to-r tw:from-white tw:to-gray-300 tw:bg-clip-text tw:text-transparent tw:leading-tight"
            >
              {{ movie().title }}
              <span class="tw:text-gray-400 tw:text-2xl tw:font-light tw:block tw:mt-2"
                >({{ movie().release_date | date : 'yyyy' }})</span
              >
            </h1>
            <div class="tw:flex tw:flex-wrap tw:items-center tw:gap-4 tw:mt-4 tw:text-gray-300">
              <span class="tw:flex tw:items-center tw:gap-2">
                <svg
                  class="tw:w-5 tw:h-5 tw:text-yellow-400"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.966a1 1 0 00.95.69h4.18c.969 0 1.371 1.24.588 1.81l-3.388 2.46a1 1 0 00-.364 1.118l1.287 3.966c.3.92-.755 1.688-1.54 1.118l-3.388-2.46a1 1 0 00-1.176 0l-3.388 2.46c-.784.57-1.84-.197-1.54-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.045 9.393c-.783-.57-.38-1.81.588-1.81h4.18a1 1 0 00.95-.69L9.05 2.927z"
                  />
                </svg>
                <span class="tw:font-semibold">{{ movie().vote_average | number : '1.1-2' }}</span>
                <span class="tw:text-sm tw:text-gray-400">IMDb</span>
              </span>
              <span>•</span>
              <span
                >Dirección:
                <span class="tw:text-white tw:font-medium">Nombre del Director</span></span
              >
              <span>•</span>
              <span
                >Duración:
                <span class="tw:text-white tw:font-medium">
                  {{ movie().revenue | date : 'h:mm' }}
                </span></span
              >
            </div>
          </div>

          <!-- Géneros y acciones -->
          <div class="tw:flex tw:flex-wrap tw:items-center tw:justify-between tw:gap-6">
            <div class="tw:flex tw:flex-wrap tw:gap-3">
              @for(genre of movie().genres; track genre.id){
              <p-chip [label]="genre.name"></p-chip>
              }
            </div>

            <div class="tw:flex tw:gap-4">
              <button
                class="tw:bg-gradient-to-r tw:from-red-500 tw:to-red-600 tw:text-white tw:font-bold tw:py-3 tw:px-6 tw:rounded-xl tw:shadow-xl hover:tw:from-red-600 hover:tw:to-red-700 tw:transition-all tw:duration-200 tw:transform hover:tw:scale-105"
                aria-label="Ver trailer"
              >
                <svg
                  class="tw:w-5 tw:h-5 tw:inline-block tw:mr-2"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path d="M8 5v14l11-7z" />
                </svg>
                Ver tráiler
              </button>
              <button
                class="tw:bg-white/10 tw:backdrop-blur-sm tw:text-white tw:py-3 tw:px-6 tw:rounded-xl tw:border tw:border-white/20 hover:tw:bg-white/20 tw:transition-all tw:duration-200"
              >
                <svg
                  class="tw:w-5 tw:h-5 tw:inline-block tw:mr-2"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                  />
                </svg>
                Favorito
              </button>
            </div>
          </div>
        </header>

        <!-- Sinopsis y detalles -->
        <article
          class="tw:bg-white/5 tw:backdrop-blur-sm tw:border tw:border-white/10 tw:rounded-2xl tw:p-8 tw:shadow-2xl"
        >
          <h2
            class="tw:text-2xl tw:font-bold tw:mb-4 tw:bg-gradient-to-r tw:from-white tw:to-gray-300 tw:bg-clip-text tw:text-transparent"
          >
            Sinopsis
          </h2>
          <p class="tw:text-gray-300 tw:leading-relaxed tw:text-lg tw:mb-8">
            {{ movie().overview }}
          </p>

          <div class="tw:grid tw:grid-cols-1 lg:tw:grid-cols-2 tw:gap-8">
            <!-- Detalles técnicos -->
            <div class="tw:space-y-4">
              <h3 class="tw:text-lg tw:font-semibold tw:text-white">Detalles de producción</h3>
              <div class="tw:space-y-3 tw:text-gray-300">
                <div class="tw:flex tw:justify-between tw:py-2 tw:border-b tw:border-white/10">
                  <span class="tw:font-medium">Reparto:</span>
                  <span>Actor A, Actor B, Actor C, Actor D</span>
                </div>
                <div class="tw:flex tw:justify-between tw:py-2 tw:border-b tw:border-white/10">
                  <span class="tw:font-medium">Guion:</span>
                  <span>Escritora Ejemplo</span>
                </div>
                <div class="tw:flex tw:justify-between tw:py-2 tw:border-b tw:border-white/10">
                  <span class="tw:font-medium">País:</span>
                  <span>País Ejemplo</span>
                </div>
                <div class="tw:flex tw:justify-between tw:py-2 tw:border-b tw:border-white/10">
                  <span class="tw:font-medium">Idioma:</span>
                  <span>Español · Inglés</span>
                </div>
              </div>
            </div>

            <!-- Información adicional -->
            <div class="tw:space-y-4">
              <h3 class="tw:text-lg tw:font-semibold tw:text-white">Información adicional</h3>
              <div class="tw:space-y-3">
                <div class="tw:flex tw:items-center tw:gap-3 tw:py-2">
                  <svg
                    class="tw:w-5 tw:h-5 tw:text-green-400"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <span class="tw:text-gray-300">Subtítulos disponibles</span>
                </div>
                <div class="tw:flex tw:items-center tw:gap-3 tw:py-2">
                  <svg
                    class="tw:w-5 tw:h-5 tw:text-blue-400"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"
                    />
                  </svg>
                  <span class="tw:text-gray-300">Calidad 4K Ultra HD</span>
                </div>
                <div class="tw:flex tw:items-center tw:gap-3 tw:py-2">
                  <svg
                    class="tw:w-5 tw:h-5 tw:text-yellow-400"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <span class="tw:text-gray-300">Calificación: +13</span>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Reparto principal -->
        @if(cast().length){
        <section class="tw:space-y-6">
          <h3
            class="tw:text-2xl tw:font-bold tw:bg-gradient-to-r tw:from-white tw:to-gray-300 tw:bg-clip-text tw:text-transparent"
          >
            Reparto principal
          </h3>
          <!-- TODO: Carousel de Peliculas -->
          <app-custom-carousel
            [data]="cast()"
            [responsiveOptions]="responsiveOptionsCast"
            customComponent="cast-card"
          />
        </section>
        }

        <!-- Acciones del usuario -->
        <section
          class="tw:bg-white/5 tw:backdrop-blur-sm tw:border tw:border-white/10 tw:rounded-2xl tw:p-6"
        >
          <div
            class="tw:flex tw:flex-col md:tw:flex-row tw:items-center tw:justify-between tw:gap-6"
          >
            <div class="tw:flex tw:items-center tw:gap-6">
              <span class="tw:text-lg tw:font-semibold tw:text-white">Tu valoración:</span>
              <div class="tw:flex tw:gap-2" role="radiogroup" aria-label="Valora esta película">
                <button
                  class="tw:text-3xl tw:text-yellow-400 hover:tw:text-yellow-300 tw:transition-colors tw:duration-200"
                  aria-label="1 estrella"
                >
                  ★
                </button>
                <button
                  class="tw:text-3xl tw:text-yellow-400 hover:tw:text-yellow-300 tw:transition-colors tw:duration-200"
                  aria-label="2 estrellas"
                >
                  ★
                </button>
                <button
                  class="tw:text-3xl tw:text-yellow-400 hover:tw:text-yellow-300 tw:transition-colors tw:duration-200"
                  aria-label="3 estrellas"
                >
                  ★
                </button>
                <button
                  class="tw:text-3xl tw:text-yellow-400 hover:tw:text-yellow-300 tw:transition-colors tw:duration-200"
                  aria-label="4 estrellas"
                >
                  ★
                </button>
                <button
                  class="tw:text-3xl tw:text-yellow-400 hover:tw:text-yellow-300 tw:transition-colors tw:duration-200"
                  aria-label="5 estrellas"
                >
                  ★
                </button>
              </div>
            </div>

            <div class="tw:flex tw:gap-4">
              <button
                class="tw:bg-gradient-to-r tw:from-blue-500 tw:to-blue-600 tw:text-white tw:py-3 tw:px-6 tw:rounded-xl tw:font-semibold hover:tw:from-blue-600 hover:tw:to-blue-700 tw:transition-all tw:duration-200 tw:transform hover:tw:scale-105"
              >
                <svg
                  class="tw:w-5 tw:h-5 tw:inline-block tw:mr-2"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"
                  />
                </svg>
                Compartir
              </button>
              <button
                class="tw:bg-white/10 tw:backdrop-blur-sm tw:text-white tw:py-3 tw:px-6 tw:rounded-xl tw:border tw:border-white/20 hover:tw:bg-white/20 tw:transition-all tw:duration-200"
              >
                <svg
                  class="tw:w-5 tw:h-5 tw:inline-block tw:mr-2"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"
                  />
                </svg>
                Reportar
              </button>
            </div>
          </div>
        </section>

        <!-- Películas similares -->
        <section class="tw:space-y-6">
          <h3
            class="tw:text-2xl tw:font-bold tw:bg-gradient-to-r tw:from-white tw:to-gray-300 tw:bg-clip-text tw:text-transparent"
          >
            Similares que quizá te gusten
          </h3>

          <!-- TODO: Carousel de Peliculas -->
          @if(moviesSimilar().length){
          <app-custom-carousel
            [data]="moviesSimilar()"
            [responsiveOptions]="responsiveOptionsMoviesSimilar"
            customComponent="movie-card"
          />
          }
        </section>
      </div>
    </div>
  </div>
</div>

<!-- Footer con diseño consistente -->
<footer
  class="tw:bg-gradient-to-br tw:from-black tw:via-gray-900 tw:to-gray-800 tw:text-center tw:py-12 tw:border-t tw:border-white/10 tw:mt-16"
>
  <div class="tw:max-w-4xl tw:mx-auto tw:px-6">
    <div class="tw:flex tw:flex-col tw:items-center tw:gap-6">
      <!-- Logo y título -->
      <div class="tw:flex tw:flex-col tw:items-center tw:gap-2">
        <h3
          class="tw:text-2xl tw:font-bold tw:bg-gradient-to-r tw:from-white tw:to-gray-300 tw:bg-clip-text tw:text-transparent"
        >
          AppPelículas
        </h3>
        <p class="tw:text-gray-300 tw:text-sm">Tu plataforma de cine favorita</p>
      </div>

      <!-- Enlaces de navegación -->
      <nav class="tw:flex tw:flex-wrap tw:justify-center tw:gap-8 tw:text-sm">
        <a
          href="#"
          class="tw:text-gray-300 hover:tw:text-white tw:transition-colors tw:duration-200"
        >
          Inicio
        </a>
        <a
          href="#"
          class="tw:text-gray-300 hover:tw:text-white tw:transition-colors tw:duration-200"
        >
          Películas
        </a>
        <a
          href="#"
          class="tw:text-gray-300 hover:tw:text-white tw:transition-colors tw:duration-200"
        >
          Series
        </a>
        <a
          href="#"
          class="tw:text-gray-300 hover:tw:text-white tw:transition-colors tw:duration-200"
        >
          Favoritos
        </a>
        <a
          href="#"
          class="tw:text-gray-300 hover:tw:text-white tw:transition-colors tw:duration-200"
        >
          Contacto
        </a>
      </nav>

      <!-- Redes sociales -->
      <div class="tw:flex tw:gap-6">
        <a
          href="#"
          class="tw:text-gray-400 hover:tw:text-white tw:transition-colors tw:duration-200"
          aria-label="Twitter"
        >
          <svg class="tw:h-6 tw:w-6" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M22.46 6c-.77.35-1.6.58-2.47.69a4.3 4.3 0 0 0 1.88-2.37 8.59 8.59 0 0 1-2.72 1.04A4.28 4.28 0 0 0 16.11 4c-2.37 0-4.29 1.92-4.29 4.29 0 .34.04.67.11.99C7.69 9.13 4.07 7.3 1.64 4.6c-.37.64-.58 1.39-.58 2.19 0 1.51.77 2.84 1.95 3.62a4.28 4.28 0 0 1-1.94-.54v.05c0 2.11 1.5 3.87 3.5 4.27-.36.1-.74.16-1.13.16-.28 0-.54-.03-.8-.08.54 1.7 2.12 2.94 3.99 2.97A8.6 8.6 0 0 1 2 19.54a12.13 12.13 0 0 0 6.56 1.92c7.88 0 12.2-6.53 12.2-12.2 0-.19 0-.37-.01-.56A8.7 8.7 0 0 0 24 4.59a8.48 8.48 0 0 1-2.54.7z"
            />
          </svg>
        </a>
        <a
          href="#"
          class="tw:text-gray-400 hover:tw:text-white tw:transition-colors tw:duration-200"
          aria-label="Facebook"
        >
          <svg class="tw:h-6 tw:w-6" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M22.675 0h-21.35C.595 0 0 .592 0 1.326v21.348C0 23.408.595 24 1.325 24h11.495v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.797.143v3.24l-1.918.001c-1.504 0-1.797.715-1.797 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116C23.406 24 24 23.408 24 22.674V1.326C24 .592 23.406 0 22.675 0"
            />
          </svg>
        </a>
        <a
          href="#"
          class="tw:text-gray-400 hover:tw:text-white tw:transition-colors tw:duration-200"
          aria-label="Instagram"
        >
          <svg class="tw:h-6 tw:w-6" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.974.974 1.246 2.242 1.308 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.974.974-2.242 1.246-3.608 1.308-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.974-.974-1.246-2.242-1.308-3.608C2.175 15.647 2.163 15.267 2.163 12s.012-3.584.07-4.85c.062-1.366.334-2.633 1.308-3.608.974-.974 2.242-1.246 3.608-1.308C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.013 7.052.072 5.775.13 4.602.402 3.635 1.37 2.668 2.338 2.396 3.511 2.338 4.788.013 8.332 0 8.741 0 12c0 3.259.013 3.668.072 4.948.058 1.277.33 2.45 1.297 3.418.967.967 2.14 1.239 3.418 1.297C8.332 23.987 8.741 24 12 24c3.259 0 3.668-.013 4.948-.072 1.277-.058 2.45-.33 3.418-1.297.967-.967 1.239-2.14 1.297-3.418.059-1.28.072-1.689.072-4.948 0-3.259-.013-3.668-.072-4.948-.058-1.277-.33-2.45-1.297-3.418-.967-.967-2.14-1.239-3.418-1.297C15.668.013 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881z"
            />
          </svg>
        </a>
      </div>

      <!-- Copyright -->
      <div class="tw:pt-4 tw:border-t tw:border-white/10 tw:w-full">
        <p class="tw:text-gray-400 tw:text-sm">
          © 2025 AppPelículas. Todos los derechos reservados.
        </p>
        <p class="tw:text-gray-500 tw:text-xs tw:mt-2">
          Información obtenida de TMDB para fines educativos
        </p>
      </div>
    </div>
  </div>
</footer>
